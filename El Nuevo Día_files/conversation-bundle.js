/*! For license information please see conversation-bundle.js.LICENSE.txt */
(()=>{var e,t,n,r,o,i,a={27:(e,t,n)=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/index.ts")}({"./src/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"reactToElement",(function(){return o})),n.d(t,"exposeAnimationEvents",(function(){return s}));var r=n("@spotim/fed-utils");function o(e){var t=e.selector,n=e.onAdded,o=e.onAttributesChanged,s=void 0===o?function(e){}:o,u=e.onRemoved,l=void 0===u?function(e){}:u,c="spotim-detector-animation-".concat(function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t+Math.floor(1e5+9e5*Math.random())||0}(t));Object(r.isInSafeframe)()?function(e){var t=e.selector,n=e.onItemFound,r=document.querySelector(t);if(r)n(r);else var o=setInterval((function(){var e=document.querySelector(t);e&&(n(e),clearInterval(o))}),1e3)}({selector:t,onItemFound:function(e){n(e),a({element:e,onRemoved:l}),i({element:e,onAttributesChanged:s})}}):(function(e){var t=e.selector,n=e.animationName;requestAnimationFrame((function(){var e,r=document.createElement("style");r.setAttribute("data-spot-im-style-module","*"),r.setAttribute("data-spot-im-style","true"),r.innerText="\n  ".concat(t," {\n    animation: ").concat(n," 1ms !important;\n  }\n  \n  @keyframes ").concat(n," {\n    from {\n    } to {\n    }\n  }\n  ").replace(/\n/g,""),document.head.appendChild(r),(null===(e=window.__SPOTIM__)||void 0===e?void 0:e.stylesheetElementAdded)&&window.__SPOTIM__.stylesheetElementAdded({module:"*",stylesheetElement:r});var o=document.querySelectorAll("data-spot-im-shadow-host");Array.from(o).forEach((function(e){e.shadowRoot&&e.shadowRoot.appendChild(r.cloneNode())}))}))}({animationName:c,selector:t}),function(e){var t=e.animationName,n=e.onItemFound,r=function(e){var r;e.animationName!==t&&(null==e||null===(r=e.detail)||void 0===r?void 0:r.animationName)!==t||!e.target||n&&n(e.composedPath()[0])};document.addEventListener("animationstart",r),document.addEventListener("MSAnimationStart",r),document.addEventListener("webkitAnimationStart",r)}({animationName:c,onItemFound:function(e){n(e),a({element:e,onRemoved:l}),i({element:e,onAttributesChanged:s})}}))}function i(e){var t=e.element,n=e.onAttributesChanged;t&&MutationObserver&&new MutationObserver((function(e){e.forEach((function(e){n(e.target)}))})).observe(t,{attributes:!0})}function a(e){var t=e.element,n=e.onRemoved;t&&MutationObserver&&t.parentNode&&new MutationObserver((function(e,r){e.some((function(e){return Array.from(e.removedNodes).indexOf(t)>-1}))&&(n(e[0].removedNodes[0]),r.disconnect())})).observe(t.parentNode,{childList:!0})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&e.shadowRoot&&e.shadowRoot.addEventListener("animationstart",(function(e){var n;if(!e.detail||!e.detail.isSpotimReEmittedEvent){var r=new(u(t))("animationstart",{composed:!0,bubbles:!0,detail:{animationName:e.animationName,isSpotimReEmittedEvent:!0}});null===(n=e.target)||void 0===n||n.dispatchEvent(r)}}))}var u=function(e){var t;if(!e.defensiveMode)return CustomEvent;var n=document.createElement("iframe");document.body.appendChild(n);var r=null==n||null===(t=n.contentWindow)||void 0===t?void 0:t.CustomEvent;return document.body.removeChild(n),r}},"@spotim/fed-utils":function(e,t){e.exports=n(4984)}})},4984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{buildAdminDashboardUrl:()=>Se,checkBrowser:()=>J,conversationPageBackToCommentsEnabled:()=>Oe,copyToClipboard:()=>se,dispatchInternalEvent:()=>Ce,dispatchSpotimEvent:()=>te,formatLanguageCode:()=>V,getCloudinaryUrl:()=>ge,getCurrentScrollPosition:()=>W,getCustomPublisherData:()=>ae,getDebugger:()=>Te,getDynamicTranslations:()=>Ie,getLocation:()=>ne,getPostId:()=>De,guid:()=>G,initScrollListener:()=>B,isInIframe:()=>ee,isInSafeframe:()=>k,isOldBrowser:()=>Z,isUnsupportedBrowser:()=>X,isWebpSupported:()=>_e,isWebpSupportedAsync:()=>me,navigate:()=>ue,navigateSafeframe:()=>le,parseNumber:()=>H,prettyDate:()=>we,sendAsyncCall:()=>Re,subscribeInternalEvent:()=>Me,subscribeToVisibilityChange:()=>K,tooltipDate:()=>ye});var r=n(655);function o(e){return e.toLowerCase()}var i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}var u={angle:"a",rotate:"a",background:"b",color:"co",colorSpace:"cs",customFunction:"fn",defaultImage:"d",density:"dn",dpr:"dpr",opacity:"o",format:"f",gravity:"g",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",bitRate:"br",keyframeInterval:"ki",audioCodec:"ac",audioFrequency:"af",delay:"dl",ocr:"ocr",streamingProfile:"sp",transformation:"t",underlay:"u",videoCodec:"vc",videoSampling:"vs",zoom:"z"},l={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},c={width:"w",height:"h",x:"x",y:"y",quality:"q",if:"if",aspectRatio:"ar",rotate:"a",opacity:"o",radius:"r",dpr:"dpr",effect:"e",border:"bo",currentPage:"cp",preview:"preview:duration",duration:"du",faceCount:"fc",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags"},d="("+Object.keys(c).join("|")+")",f=["quality","if","rotate","zoom","opacity","radius","effect","dpr"],p={equal:"eq",notEqual:"ne",lessThan:"lt",greaterThan:"gt",lessOrEqual:"lte",greaterOrEqual:"gte",include:"in",notInclude:"nin"},m={width:"w",initialWidth:"iw",height:"h",initialHeight:"ih",aspectRatio:"ar",intialAspectRatio:"iar",context:"ctx",metadata:"md",tags:"tags",trimmedAspectRatio:"tar",currentPage:"cp",faceCount:"fc",pageCount:"pc",pageXOffset:"px",pageYOffset:"py",initialDensity:"idn",illustration:"ils",pageNames:"pgnames"},_=function(e,t){return void 0===t&&(t=":"),e.filter(Boolean).join(t)},v=function(e){var t=e.expression?_(e.expression.map((function(e){return g(e)})),"_and_"):"",n=e.transformations.map((function(e){return E(P(e))}));return{expression:t,transformations:_(n,"/")}},h=function(e){return m[e]||e},g=function(e){var t=Array.isArray(e.characteristic)?_(e.characteristic.map(h)):h(e.characteristic),n=p[e.operator],r=isNaN(e.value)?"!"+e.value+"!":e.value;return _([t,n,r],"_")},w={integer:"to_i",float:"to_f"},y="((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))",b=function(e){return isNaN(e)?A(e):e},A=function(e){return e?function(e){var t=new RegExp(d,"g");return e.replace(t,(function(t,n,r){return"$"===e[r-1]?t:c[t]}))}((t=e,n=new RegExp(y,"g"),t.replace(n,(function(e){return l[e]})))).replace(/[ _]+/g,"_"):"";var t,n},S={context:"ctx",structureMetadata:"md"},O=function(e){var t="$"+e.name,n=e.value;isNaN(e.value)&&(n=Array.isArray(e.value)?_(e.value):function(e){if(!e||!e.expression)return"";var t=Array.isArray(e.expression)?_(e.expression):e.expression,n=function(e){return new RegExp(y,"g").test(e)}(t),r=A(t),o=w[e.formatAs]||"";return _([r&&!n?"!"+r+"!":r,o],"_")}(e.value));var r=_([S[e.assignFrom],n],":");return r?_([t,r],"_"):""},I=function(e){var t,n=[];for(var r in n.push(function(e){return e?Array.isArray(e)?_(e.map((function(e){return O(e)})),","):O(e):""}(e.variables)),n.push(function(e){var t,n,r,o,i;return e.resize||e.width||e.height||e.aspectRatio?(n=(t=e.resize||{width:e.width,height:e.height,type:e.crop,aspectRatio:e.aspectRatio}).type,r=t.width,o=t.height,i=t.aspectRatio,[n?"c_"+n:"",r?"w_"+b(r):"",o?"h_"+b(o):"",i?"ar_"+b(i):""].filter(Boolean).join()):""}(e)),n.push(function(e){return e.border?"string"==typeof e.border?"bo_"+e.border:(r=void 0===(n=(t=e.border).type)?"solid":n,i=void 0===(o=t.color)?"black":o,(a=t.width)?"bo_"+(isNaN(a)?A(a):a+"px")+"_"+r+"_"+i:""):"";var t,n,r,o,i,a}(e)),n.push(function(e){return e.x||e.y||e.position?(n=(t=e.position||{x:e.x,y:e.y}).x,r=t.y,[n?"x_"+b(n):"",r?"y_"+b(r):""].filter(Boolean).join()):"";var t,n,r}(e)),n.push(function(e){var t="object"==typeof e;return!e||t&&!e.min?"":"fps_"+(t?_([e.min,e.max],"-"):e)}(e.fps)),n.push((t=e.offset)?[t.start?"so_"+t.start:"",t.end?"eo_"+t.end:"",t.duration?"du_"+t.duration:""].filter(Boolean).join(","):""),e){var o=e[r],i=u[r];if(i&&o){var a=f.includes(r);n.push(i+"_"+(a?b(o):o))}}return n.push(function(e){var t="string"==typeof e;if(!e||!t&&!e.name)return"";if(t||!e.value)return"e_"+(e.name||e);var n=Array.isArray(e.value)?e.value.join(":"):e.value;return"e_"+_([e.name,n])}(e.effect)),n.push(function(e){return e&&0!==e.length?"fl_"+("string"==typeof e?e:e.join(":")):""}(e.flags)),n.push(e.rawTransformation),n.push(function(e){if(!e||!e.if||!e.if.expression)return"";var t=v(e.if),n=e.else?v(e.else):null,r=_(["if_"+t.expression,t.transformations],"/"),o=n?_(["if_else",n.transformations],"/"):"";return[_([r,o,"if_end"],"/")]}(e.condition)),n.filter(Boolean)},x=function(e){var t=I(e),n=e.transformation||e.chaining;return n&&Array.isArray(n)&&n.forEach((function(e){var n=I(e);n.length>0&&t.push(n)})),t.filter(Boolean)},E=function(e){return e.reduce((function(e,t){var n=Array.isArray(t);return e+(e?n?"/":",":"")+t.toString()}),"")},P=x,T=x,M=n(5951),C=n.n(M),j=n(2519),N=n(8366),R=n.n(N),k=function(){return window.top!==window&&!!window.$sf},D=0,L=!1,B=function(e,t){var n=k(),r=W(n),o=U(n),i=F(n);D=0,L=!1,r>20||i?e(t):o?n?z(e,t):$(e,t):setTimeout((function(){e(t)}),1e3)},U=function(e){var t,n,r,o;return e?null===(t=100!==(null===(n=window.$sf)||void 0===n||null===(r=n.ext)||void 0===r||null===(o=r.inViewPercentage)||void 0===o?void 0:o.call(r)))||void 0===t||t:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},q=function(){return document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset},F=function(e){var t,n,r;return!!e&&(null===(t=window.$sf)||void 0===t||null===(n=t.ext)||void 0===n||null===(r=n.inViewPercentage)||void 0===r?void 0:r.call(n))>0},W=function(e){if(e){var t=window.$sf.ext.geom(),n=t.par,r=t.win;return n.t||n.b-r.h}return q()},$=function(e,t){var n=function n(){e(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(e,t,n,r){D=q(),L||(window.requestAnimationFrame((function(){!function(e,t,n,r,o){e>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),t(o))}(D,e,t,n,r),L=!1})),L=!0)}(e,r,n,t)};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n)},z=function(e,t){document.addEventListener("geom-update",(function n(){W(!0)>=20&&(document.removeEventListener("geom-update",n),e(t))}))};function Q(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function G(){var e=Q;return e()+e()+e()+e()+e()+e()+e()+e()}function H(e){for(var t=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"},{value:1,symbol:""}],n=t[t.length-1],r=0,o=t;r<o.length;r++){var i=o[r];if(Math.abs(e)>=i.value){n=i;break}}return(e/n.value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol}var Y={es_419:"es-419",es_ES:"es-ES",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW",th_TH:"th",en_GB:"en"};function V(e){return Y[e]||e}function K(e,t){function n(){document.hidden?t():e()}return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}function J(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]?(e=t.match(/\b(OPR|Edge?)\/(\d+)/))?{name:e[1].replace("OPR","Opera").replace("Edg ","Edge ")||"",version:e[2]||""}:{name:"Chrome",version:n[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function X(){var e=J(),t=parseInt(e.version.split(".")[0]),n=("Edge"===e.name||"Edg"===e.name)&&t<80,r=!!window.navigator.userAgent.match(/(MSIE|Trident)/),o=!!window.navigator.userAgent.match(/(Waterfox|waterfox)/);return n||r||o}function Z(){var e=J();if(!e.version)return!0;var t=parseInt(e.version.split(".")[0]),n=!0;switch(e.name){case"Chrome":n=t<66;break;case"Safari":n=t<13;break;case"Firefox":n=t<60;break;case"Edge":case"Edg":n=t<80}return n}var ee=function(){return window.top!==window.self};function te(e,t){void 0===t&&(t={});var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n),k()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"spotim_event",args:{type:e,params:t}})}var ne=function(){if(!k())return window.location;try{var e,t;return new URL((null===(e=window)||void 0===e||null===(t=e.spotimSafeframe)||void 0===t?void 0:t.hostUrl)||document.referrer)}catch(e){return window.location}};function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie="custom",ae=function(e){var t=Object.keys(e.dataset),n=re({},e.dataset);return t.reduce((function(e,t){return t.startsWith(ie)?(e[(u=t.slice(ie.length),void 0===l&&(l={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?i:n,u=t.stripRegexp,l=void 0===u?a:u,c=t.transform,d=void 0===c?o:c,f=t.delimiter,p=void 0===f?" ":f,m=s(s(e,r,"$1\0$2"),l,"\0"),_=0,v=m.length;"\0"===m.charAt(_);)_++;for(;"\0"===m.charAt(v-1);)v--;return m.slice(_,v).split("\0").map(d).join(p)}(e,(0,r.__assign)({delimiter:"."},t))}(u,(0,r.__assign)({delimiter:"_"},l)))]=n[t],e):e;var u,l}),{})};function se(e){!function(e){var t=document.createElement("span");t.textContent=e,document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();null==n||n.removeAllRanges(),r.selectNode(t),null==n||n.addRange(r);try{window.document.execCommand("copy")}catch(e){}null==n||n.removeAllRanges(),window.document.body.removeChild(t)}(e),k()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"clipboard_write",args:{text:e}})}function ue(e){k()?le(e):window.location.href=e}function le(e){var t;k()&&(null===(t=window.spotimSafeframe)||void 0===t||t.sendMessageToHost({action:"navigate",args:{url:e}}))}var ce,de=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"lossless"}],fe=function(e){return new Promise((function(t){var n=new Image;function r(e){var r="load"===(null==e?void 0:e.type)&&1===n.width;t({result:r,event:e})}n.onerror=r,n.onload=r,n.src=e}))},pe={webp:!1},me=function(){return ce||(ce=new Promise((function(e){try{var t=[],n=de.shift();return Promise.resolve(fe(n.uri)).then((function(r){var o=r.result,i=r.event;if(pe[n.name]=o,"load"===(null==i?void 0:i.type))for(var a,s=function(){var e=a.value,n=fe(e.uri).then((function(t){var n=t.result;return pe[e.name]=n}));t.push(n)},u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(de);!(a=u()).done;)s();return Promise.resolve(Promise.all(t)).then((function(){e(pe)}))}))}catch(e){return Promise.reject(e)}})))},_e=function(){return pe},ve="https://images.spot.im",he=ve+"/image/upload",ge=function(e){var t=re({},{quality:50,dpr:3},e);if(!t.url&&!t.pathname)throw new Error("missing required argument `options.url` or `options.pathname`");var n=t.pathname||new URL(t.url).pathname,r=n.split("/").slice(2),o=_e().webp?"webp":"png",i=t.extension?"."+t.extension:"",a="png"===o,s=["fl_lossy"],u=re({},function(e){var t=e.width,n=e.height,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["url","width","height","getUrl","pathname"]);return re({},r,{resize:re({width:t,height:n},r.resize)})}(t),{format:o}),l=T(u).concat(s).toString();a&&(l+=",fl_png8");var c=n.startsWith("/")?n.slice(1):n;return t.getUrl?t.getUrl({extension:i,baseUrl:ve,baseUrlUpload:he,pathname:c,transformations:l,pathnameExtension:""+c+i}):[ve,l].concat(r).filter(Boolean).join("/").concat(i||"")};function we(e){var t=e.date,n=e.longDate,r=e.t,o=e.dateFormat,i=e.enableDateFormat,a=86400,s=7*a,u=52*s,l=null==t?void 0:t.getTime(),c=(Date.now()-l)/1e3,d=null,f=n?"long":"short";if(!l||isNaN(c))d="";else if(c<14)d=r("prettyDate."+("short"===f?"shortNow":"now"));else if(c<60){var p=Math.floor(c);d=r("prettyDate."+f+"Second",{count:p,seconds:p})}else if(c<3600){var m=Math.floor(c/60);d=r("prettyDate."+f+"Minute",{count:m,minutes:m})}else if(c<a){var _=Math.floor(c/3600);d=r("prettyDate."+f+"Hour",{count:_,hours:_})}else{var v=Math.floor(c/a);if(v<3)d=r("prettyDate."+f+"Day",{count:v,days:v});else if(i)d=new Intl.DateTimeFormat(o,{year:"numeric",month:"long",day:"numeric"}).format(t);else{var h=function(e,t,n,r){var o=e.getMonth()+1,i=be(null==e?void 0:e.getFullYear());return e.getDate()+" "+t("prettyDate.months."+o+"."+r)+(n||!i?", "+e.getFullYear():"")}(t,r,n,f);if(n)d=h;else if(c<s){var g=Math.floor(c/a);d=r("prettyDate."+f+"Day",h,{count:g,days:g})}else if(c<u)d=r("prettyDate."+f+"Week",h,{count:v,weeks:Math.floor(c/s)});else if(c>=u){var w=Math.floor(c/u);d=r("prettyDate."+f+"Year",h,{count:w,years:w})}}}return d}function ye(e,t,n){void 0===n&&(n="short");var r=e.getMonth()+1;return e.getDate()+" "+t("prettyDate.months."+r+"."+n)+", "+e.getFullYear()+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var be=function(e){return e===(new Date).getFullYear()},Ae={development:"https://admin.staging-spot.im/network/{NETWORK_NAME}",staging:"https://admin.staging-spot.im/network/{NETWORK_NAME}",production:"https://admin.spot.im/network/{NETWORK_NAME}",test:"https://admin.spot.im/network/{NETWORK_NAME}"}[function(){return window.__SPOTIMENV__||"production"}()],Se=function(e){var t,n=e.dashboardType,r=void 0===n?"conversation":n,o=e.networkName,i=void 0===o?"spotim":o,a=e.spotId,s=e.conversationId,u=e.contentType,l=void 0===u?"conversation":u,c=e.userId,d=((t={}).conversation="comments",t.liveBlog="comments",t.post="posts",t),f=Ae.replace("{NETWORK_NAME}",i);return C().get("tenant_config.admin-panel."+("conversation"===r?"openDashboardUrl":"viewAllFromUserUrl"),f).replace("{SPOT_ID}",a).replace("{CONV_ID}",s).replace("{USER_ID}",c).replace("{CONTENT_TYPE}",d[l])},Oe=function(){var e,t=C().get("queryParams.spot_im_highlight_immediate",!1),n=C().get("queryParams.spot_im_redirect_source",""),r=C().get("tenant_config.launcher.immediateConfig",[]),o="live-blog"===C().get("queryParams.ow_module"),i=null==r?void 0:r.find((function(e){return"conversation-page"===e.module}));return!o&&t&&n&&i&&!(null==i||null===(e=i.excludeSources)||void 0===e?void 0:e.includes(n))},Ie=function(e){var t=e.lng,n=e.packageName,r=e.version,o=e.defaultTranslation;try{var i,a="https://static-cdn.spot.im/production/translations/"+n+"/v"+r,s=function(){if("en"===t)i=o;else{var e=function(){var e,o,s;if(!(null===(e=window.__SPOTIM__)||void 0===e||null===(o=e.translations)||void 0===o||null===(s=o[n])||void 0===s?void 0:s[r]))return Promise.resolve(fetch(a+"/"+t+"/translation.json")).then((function(e){return Promise.resolve(e.json()).then((function(e){var t,o,a;i=e,window.__SPOTIM__=re({},window.__SPOTIM__,{translations:re({},window.__SPOTIM__.translations,(a={},a[n]=re({},null===(t=window.__SPOTIM__.translations)||void 0===t?void 0:t[n],(o={},o[r]=i,o)),a))})}))}));i=window.__SPOTIM__.translations[n][r]}();if(e&&e.then)return e.then((function(){}))}}();return Promise.resolve(s&&s.then?s.then((function(){return i})):i)}catch(e){return Promise.reject(e)}},xe="SPOTIM_DEBUG_API",Ee=null;function Pe(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).log.apply(t,["%cSpot.IM "+e,"background: #307fe2; color: white;"].concat(r))}function Te(e){var t=function(){try{if(null===Ee){var e=new URLSearchParams(ne().search);if((Ee=e.get(xe.toLowerCase()))||(Ee=window.SPOTIM_DEBUG_API),!Ee)try{Ee=window.localStorage.getItem(xe)}catch(e){}Ee||(Ee=""),Ee=Ee.split(",").map((function(e){return e.toLowerCase()}))}return Ee}catch(e){return[]}}();return(null==t?void 0:t.indexOf("*"))>-1||(null==t?void 0:t.indexOf(e.toLowerCase()))>-1?Pe.bind(null,e):function(){}}function Me(e,t,n){void 0===n&&(n={history:!1}),(0,j.subscribe)("@spotim/internal/"+e,t,n)}function Ce(e,t){void 0===t&&(t={}),(0,j.dispatchOnce)("@spotim/internal/"+e,t)}function je(e){if(e)return function(e,t){return t.reduce((function(e,t){return function(e,t){var n=e,r=e.indexOf("?");if(-1!==r){var o=e.substring(0,r),i=e.substring(r+1),a=new RegExp("&"+t+"(=[^&]*)?|^"+t+"(=[^&]*)?&?");n=o+((i=i.replace(a,"")).length>0?"?":"")+i}return n}(e,t)}),e)}(e,["utm_source","utm_medium","utm_content","prerender","spot_im_state","spot_im_comment_id","spot_im_reply_id","spot_im_expand_reply","spot_im_highlight_immediate","spot_im_scroll_to_comments","spot_im_source","spot_im_email_settings","spotim_referrer"])}function Ne(){var e=ne().href,t="undefined"!=typeof document?document.querySelector("link[rel='canonical']"):void 0;return t&&(e=t.href),e}var Re=function(e){var t=e.postId,n=e.extraParameters,r=void 0===n?{}:n;try{var o,i,a,s;window.__OPEN_WEB__.ASYNC_CALL_POST_IDS=null!==(o=null===(i=window)||void 0===i?void 0:i.__OPEN_WEB__.ASYNC_CALL_POST_IDS)&&void 0!==o?o:new Set;var u=Object.keys(r).some((function(e){return!ke.includes(e)}));if((null===(a=window.__OPEN_WEB__)||void 0===a||null===(s=a.ASYNC_CALL_POST_IDS)||void 0===s?void 0:s.has(t))&&!u)return Promise.resolve();var l={platform:"object"==typeof window&&window.navigator.userAgent.toLocaleLowerCase().match(/(mobile|iemobile|android|webos|iphone|ipad|ipod|blackberry|windows phone)/)?"mobile":"desktop"},c=re({},C().get("elementOptions"),{href:je(ne().href),canonicalHref:je(Ne())}),d=c.postUrl,f=c.href,p=c.canonicalHref;return f&&Object.assign(l,{host_url:d||f}),p&&Object.assign(l,{canonical_url:p}),Promise.resolve(function(e,t,n){return R()("v1.0.0/conversation/async",{method:"POST",headers:{"x-spot-id":C().get("spotId",""),"x-post-id":n},body:JSON.stringify(t)})}(0,l,t)).then((function(e){var n,r;return null===(n=window.__OPEN_WEB__)||void 0===n||null===(r=n.ASYNC_CALL_POST_IDS)||void 0===r||r.add(t),e}))}catch(e){return Promise.reject(e)}},ke=["host_url","canonical_url","platform"],De=function(e){return(null==e?void 0:e.dataset.postId)||C().get("postId","")}},3172:(e,t,n)=>{"use strict";n.d(t,{GR:()=>r,jU:()=>o,Mx:()=>i,Ib:()=>a,fY:()=>s,cE:()=>u});const r='[data-spotim-module="conversation"]:not([data-spotim-not-for-self-bootstrapping])',o='[data-spot-im-module-default-area="conversation"]',i="ow-seo-optimized",a="OW_VIEWED_SEO_CONVERSATION",s="370px";let u;!function(e){e.LIKE="like",e.SHOW_MORE_REPLIES="show-more-replies",e.SHOW_MORE_COMMENTS="show-more-comments"}(u||(u={}))},4186:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var r=n(5951),o=n.n(r),i=n(1146),a=n.n(i);const s=o().get("spotId"),u=a()(s,"conversation",{version:'"v3.46.15"'})},655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>a,__decorate:()=>s,__param:()=>u,__metadata:()=>l,__awaiter:()=>c,__generator:()=>d,__createBinding:()=>f,__exportStar:()=>p,__values:()=>m,__read:()=>_,__spread:()=>v,__spreadArrays:()=>h,__await:()=>g,__asyncGenerator:()=>w,__asyncDelegator:()=>y,__asyncValues:()=>b,__makeTemplateObject:()=>A,__importStar:()=>O,__importDefault:()=>I,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>E});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return S(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5951:e=>{"use strict";e.exports=window.__SPOTIM__.SERVICES.configProvider},1146:e=>{"use strict";e.exports=window.__SPOTIM__.lib.MetricsReporter},8298:e=>{"use strict";e.exports=window.__SPOTIM__.lib.ReactDom},3524:e=>{"use strict";e.exports=window.__SPOTIM__.lib.analytics},8627:e=>{"use strict";e.exports=window.__SPOTIM__.lib.classnames},4021:e=>{"use strict";e.exports=window.__SPOTIM__.lib.currentUser},3825:e=>{"use strict";e.exports=window.__SPOTIM__.lib.i18next},5457:e=>{"use strict";e.exports=window.__SPOTIM__.lib.produce},2519:e=>{"use strict";e.exports=window.__SPOTIM__.lib.pubSub},9474:e=>{"use strict";e.exports=window.__SPOTIM__.lib.react},6088:e=>{"use strict";e.exports=window.__SPOTIM__.lib.reactI18next},9432:e=>{"use strict";e.exports=window.__SPOTIM__.lib.reactPopperTooltip},6263:e=>{"use strict";e.exports=window.__SPOTIM__.lib.reactRedux},1835:e=>{"use strict";e.exports=window.__SPOTIM__.lib.realTime},3040:e=>{"use strict";e.exports=window.__SPOTIM__.lib.redux},4751:e=>{"use strict";e.exports=window.__SPOTIM__.lib.reduxActions},1755:e=>{"use strict";e.exports=window.__SPOTIM__.lib.reduxThunk},8366:e=>{"use strict";e.exports=window.__SPOTIM__.lib.request},1377:e=>{"use strict";e.exports=window.__SPOTIM__.lib.timeSpent},1793:e=>{"use strict";e.exports=window.__SPOTIM__.lib["@spotim/fed-social"]["1.0.1"]}},s={};function u(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return a[e].call(n.exports,n,n.exports,u),n.exports}u.m=a,u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);u.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,u.d(o,i),o},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,n)=>(u.f[n](e,t),t)),[])),u.u=e=>e+"-bundle.js",u.miniCssF=e=>e+".css",u.miniCssF=e=>e+".css",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@spotim/conversation:",u.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var a,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){a=d;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,u.nc&&a.setAttribute("nonce",u.nc),a.setAttribute("data-webpack",r+o),a.src=e),n[e]=[t];var f=(t,r)=>{a.onerror=a.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="https://static-cdn.spot.im/production/conversation/tags/v3.46.15/",o=e=>new Promise(((t,n)=>{var r=u.miniCssF(e),o=u.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,o.parentNode.removeChild(o),r(u)}},o.href=t,document.head.appendChild(o)})(e,o,t,n)})),i={main:0},u.f.miniCss=(e,t)=>{i[e]?t.push(i[e]):0!==i[e]&&{styles:1}[e]&&t.push(i[e]=o(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))},(()=>{var e={main:0};u.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{styles:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var r=u.miniCssF(e),o=u.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,o.parentNode.removeChild(o),r(u)}},o.href=t,function(){var e=arguments[0],t={tag:"conversation@v3.46.15",version:"v3.46.15",moduleName:"conversation",attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation","data-spot-im-style-module-version":"v3.46.15"}},n=t.tag,r=t.version,o=t.moduleName,i=t.attributes;Object.entries(i).forEach((([t,n])=>e.setAttribute(t,n))),window.__SPOTIM__&&window.__SPOTIM__.attachStyle?window.__SPOTIM__.attachStyle({tag:n,version:r,moduleName:o,stylesheetElement:e}):document.head.appendChild(e)}(o)})(e,o,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}})(),(()=>{var e={main:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=u.p+u.u(t),a=new Error;u.l(i,(n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,i=n[0],a=n[1],s=n[2],l=0;for(r in a)u.o(a,r)&&(u.m[r]=a[r]);for(s&&s(u),t&&t(n);l<i.length;l++)o=i[l],u.o(e,o)&&e[o]&&e[o][0](),e[i[l]]=0},n=self.webpackChunk_spotim_conversation=self.webpackChunk_spotim_conversation||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=u(27),t=u(5951),n=u.n(t),r=u(4186),o=u(3172),i=u(4984);const a=["spot_reset_password","spot_ticket","spot_im_verify","spot_im_scroll_to_comments","spot_im_expand_reply","spot_im_load_app_immediately","spot_im_comment_id","spot_im_reply_id","spot_im_highlight_immediate"];function s({host:e,spotId:t,postId:n,instanceId:o}){e.hasAttribute("data-element-booted")||(e.setAttribute("data-element-booted","true"),r.q.apm.start("critical_flow"),Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_react-tracking-729c31"),u.e("vendors-node_modules_spotim_message_dist_index_js"),u.e("app_conversation_components_Main_tsx"),u.e("preRender"),u.e("boot")]).then(u.bind(u,2378)).then((({boot:r})=>{r({element:e,spotId:t,postId:n,instanceId:o})})))}let l=!1;const c=n().get("tenant_config.conversation.enable_prefetch_assets");function d(e){e.setAttribute("data-element-initialized","true");const t=e.dataset.spotId||n().get("spotId","");e.style.minHeight=o.fY,function({host:e,postId:t,spotId:r,instanceId:o}){new IntersectionObserver(((n,i)=>{n[0].isIntersecting&&(s({host:e,spotId:r,postId:t,instanceId:o}),i.disconnect())}),{threshold:[.01],rootMargin:"0px"}).observe(e),(()=>{const e=n().get("queryParams");return a.some((t=>e.hasOwnProperty(t)))})()?s({host:e,spotId:r,postId:t,instanceId:o}):(0,i.initScrollListener)(s,{host:e,spotId:r,postId:t,instanceId:o})}({host:e,spotId:t,postId:e.dataset.postId||"",instanceId:e.dataset.instanceId||""}),e.dataset.postId||r.q.error("renderAtElement","no post id provided to conversation")}function f(e){window.__SPOTIM__&&window.__SPOTIM__.terminateConversation&&window.__SPOTIM__.terminateConversation(e)}!function(){if(l)return;c&&(Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_react-tracking-729c31"),u.e("vendors-node_modules_spotim_message_dist_index_js"),u.e("app_conversation_components_Main_tsx"),u.e("preRender"),u.e("boot")]).then(u.bind(u,2378)),Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_react-tracking-729c31"),u.e("vendors-node_modules_spotim_message_dist_index_js"),u.e("vendors-node_modules_spotim_draft-message-utils_dist_draft-message-utils_draft-message-utils_-165854"),u.e("app_conversation_components_Main_tsx"),u.e("conversation-component")]).then(u.bind(u,4708)),Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_react-tracking-729c31"),u.e("app_conversation_components_Main_tsx"),u.e("preRender")]).then(u.bind(u,2601)));const t=document.getElementById(o.Mx);t&&(e=>{try{if(localStorage.getItem(o.Ib)){const t=document.querySelector(o.GR);e.remove(),t&&(t.style.display="block")}}catch(e){}})(t),(0,e.reactToElement)({selector:`${o.GR}`,onAdded:e=>{var t,n;null===(t=(n=window).__OW_ASYNC_CALL_FN__)||void 0===t||t.call(n,e),d(e);const r=document.querySelector(`${o.jU}[data-post-id="${e.dataset.postId}"]`);!e.hasAttribute("data-spotim-conversation-page")&&r&&f(r)},onAttributesChanged:e=>{},onRemoved:e=>{if(f(e),document.querySelector(`${o.GR}[data-post-id="${e.dataset.postId}"]`))return;const t=document.querySelector(`[data-spot-im-module-default-area="conversation"][data-post-id="${e.dataset.postId}"], [data-spotim-module-default-area="conversation"][data-post-id="${e.dataset.postId}"]`);!e.hasAttribute("data-spotim-conversation-page")&&t&&d(t)}}),(0,e.reactToElement)({selector:`${o.jU}`,onAdded:e=>{var t,n;null===(t=(n=window).__OW_ASYNC_CALL_FN__)||void 0===t||t.call(n,e),e.getAttribute("data-element-initialized")||document.querySelector(`${o.GR}[data-post-id="${e.dataset.postId}"]:not([data-spotim-conversation-page])`)||d(e)},onAttributesChanged:e=>{},onRemoved:e=>{f(e)}}),l=!0,window.__SPOTIM__=window.__SPOTIM__||{},window.__SPOTIM__.initConversation=e=>{},window.__SPOTIM__.terminateConversation=e=>Promise.resolve().then(u.t.bind(u,8298,23)).then((t=>{e.removeAttribute("data-element-initialized");const n=e.querySelector("[data-spot-im-shadow-host]");if(n)return t.unmountComponentAtNode(n.shadowRoot||n)}))}()})()})();
//# sourceMappingURL=conversation-bundle.js.map